{"version":3,"file":"static/js/278.34965d52.chunk.js","mappings":"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","sources":["components/MovieGallery/MovieGallery.styled.jsx","components/MovieGallery/MovieGallery.jsx","pages/Movies/Movies.jsx","pages/Movies/Movies.styled.jsx","services/API.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const GalleryList = styled.ul`\n  list-style: none;\n`;\n","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { GalleryList } from './MovieGallery.styled';\n\nexport const MovieGallery = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <GalleryList>\n      {movies.map(({ id, name, title }) => (\n        <li key={id}>\n          <Link state={{ from: location }} to={`/movies/${id}`}>\n            {title || name}\n          </Link>\n        </li>\n      ))}\n    </GalleryList>\n  );\n};\n\nMovieGallery.propTypes = { movies: PropTypes.array };\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMovieSearch } from 'services/API';\nimport { MovieGallery } from 'components/MovieGallery/MovieGallery';\nimport { GalleryContainer } from './Movies.styled';\nimport { Loader } from 'components/Loader/Loader';\nimport { Form } from './Movies.styled';\n\nconst ERROR_MSG = 'Error happend';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [isLoading, setIsLoading] = useState(false);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (!query) return;\n    const fetchData = async () => {\n      try {\n        const res = await fetchMovieSearch(query);\n        setMovies(res.results);\n      } catch (error) {\n        setError(ERROR_MSG);\n      } finally {\n        setIsLoading(false);\n        setIsLoaded(true);\n      }\n    };\n    fetchData(query);\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    setSearchParams({ query: form.elements.input.value });\n    form.reset();\n  };\n\n  return (\n    <GalleryContainer>\n      <Form onSubmit={handleSubmit}>\n        <input type=\"text\" autoComplete=\"off\" name=\"input\" autoFocus />\n        <button type=\"submit\">Search</button>\n      </Form>\n      <div>\n        {error && <div>{error}</div>}\n        {isLoading && <Loader />}\n        {isLoaded && movies.length === 0 && (\n          <div>We have not found such movie, please, try another query.</div>\n        )}\n        <MovieGallery movies={movies} />\n      </div>\n    </GalleryContainer>\n  );\n};\n\nexport default Movies;\n","import styled from '@emotion/styled';\n\nexport const GalleryContainer = styled.div`\n  padding: 20px;\n`;\n\nexport const Form = styled.form`\n  margin-bottom: 20px;\n`;\n","import axios from 'axios';\nexport const BASE_URL = 'https://api.themoviedb.org/3';\nexport const USER_KEY = '9e4f0ad78cbe1148a9d4c0c8389afc83';\nexport const prePoster = 'https://image.tmdb.org/t/p/original/';\n\nexport async function fetchTrendingMovies() {\n  const { data } = await axios.get(\n    `${BASE_URL}/trending/all/day?api_key=${USER_KEY}`\n  );\n  return data;\n}\n\nexport async function fetchMovieId(movieId) {\n  const { data } = await axios.get(\n    `${BASE_URL}/movie/${movieId}?api_key=${USER_KEY}`\n  );\n  return data;\n}\n\nexport async function fetchMovieCast(movieId) {\n  const { data } = await axios.get(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${USER_KEY}`\n  );\n  return data;\n}\n\nexport async function fetchMovieReviews(movieId) {\n  const { data } = await axios.get(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${USER_KEY}`\n  );\n  return data;\n}\n\nexport async function fetchMovieSearch(query) {\n  const { data } = await axios.get(\n    `${BASE_URL}/search/movie?api_key=${USER_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n  return data;\n}\n"],"names":["GalleryList","styled","MovieGallery","movies","location","useLocation","map","id","name","title","state","from","to","useState","setMovies","error","setError","useSearchParams","searchParams","setSearchParams","isLoading","setIsLoading","isLoaded","setIsLoaded","query","get","useEffect","fetchData","fetchMovieSearch","res","results","onSubmit","e","preventDefault","form","currentTarget","elements","input","value","reset","type","autoComplete","autoFocus","length","GalleryContainer","Form","BASE_URL","USER_KEY","prePoster","fetchTrendingMovies","axios","data","fetchMovieId","movieId","fetchMovieCast","fetchMovieReviews"],"sourceRoot":""}